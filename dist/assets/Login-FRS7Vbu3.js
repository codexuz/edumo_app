import{_ as H,o as U,u as D,r as i,a as K,b as e,c as w,d as V,e as o,w as n,f as P,g as s,h as l,i as c,l as S,s as Y,j as F,m as J,k as Q,n as X,p as Z,q as $,t as oo}from"./index-lmc9I_XF.js";import{r as eo}from"./index-oqNiFkU8.js";const no="/assets/login-xPMekIH2.svg",C=eo("GoogleAuth",{web:()=>H(()=>import("./web-xVyO8Dnp.js"),__vite__mapDeps([0,1])).then(h=>new h.GoogleAuthWeb)}),to={key:0,class:"text-center text-lg text-blue-600 mt-5"},so={key:1},ao={class:"mx-auto"},lo=["src"],io=l("div",{class:"text-center"},[l("h1",{class:"text-3xl text-blue-600 text-center font-bold"},"Platformaga kirish"),l("p",{class:"text-gray-400"},"Ma'lumotlatingizni kiriting")],-1),co={class:"text-gray-700 text-center mt-6"},ro={class:"text-sky-400"},mo={__name:"Login",setup(h){U(()=>{C.initialize({clientId:"813791000692-6488u36qrqik4gnh0tklsihmmsdqbor5.apps.googleusercontent.com",scopes:["profile","email"],grantOfflineAccess:!0})});const g=D(),u=i(""),_=i(""),d=i(!1),m=i(""),v=i(!0);K(P,t=>{t?g.push("/","forward"):(console.log("You are not authorized"),v.value=!1)});const p=i(!1),O=()=>{p.value=!p.value},z=async()=>{if(!u.value||!_.value){d.value=!0,m.value="Please enter email and password.";return}const t=await S.create({message:"Logging in..."});t.present(),Y(P,u.value,_.value).then(a=>{t.dismiss(),g.push("/home","forward")}).catch(a=>{t.dismiss(),d.value=!0,m.value="Login yoki parol xato",console.log(a.message)})},I=async()=>{try{(await C.signIn()).id&&g.push("/home","forward")}catch(t){d.value=!0,m.value=t.message}};return(t,a)=>{const L=e("ion-spinner"),A=e("ion-back-button"),G=e("ion-buttons"),q=e("ion-toolbar"),E=e("ion-header"),x=e("ion-label"),r=e("ion-icon"),b=e("ion-input"),k=e("ion-item"),y=e("ion-button"),B=e("router-link"),M=e("ion-col"),N=e("ion-row"),R=e("ion-grid"),T=e("ion-toast"),W=e("ion-content"),j=e("ion-page");return v.value?(w(),V("div",to,[o(L,{name:"lines-sharp",color:"primary"})])):(w(),V("div",so,[o(j,null,{default:n(()=>[o(E,{class:"ion-no-border"},{default:n(()=>[o(q,{color:"primary"},{default:n(()=>[o(G,{slot:"start"},{default:n(()=>[o(A,{icon:s(F),"default-href":"/"},null,8,["icon"])]),_:1})]),_:1})]),_:1}),o(W,{fullscreen:!0,class:"ion-padding ion-margin-top","scroll-y":"false"},{default:n(()=>[o(R,null,{default:n(()=>[o(N,{class:"ion-justify-content-center"},{default:n(()=>[o(M,{size:"12","size-md":"8","size-lg":"6","size-xl":"4"},{default:n(()=>[l("div",ao,[l("img",{src:s(no),class:"w-[40%] sm:w-32 mx-auto",alt:"Logo"},null,8,lo),io]),o(k,{class:"relative flex items-end"},{default:n(()=>[o(x,{position:"floating"},{default:n(()=>[c("Email")]),_:1}),o(r,{icon:s(J),slot:"start"},null,8,["icon"]),o(b,{type:"email",modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=f=>u.value=f)},null,8,["modelValue"])]),_:1}),o(k,{class:"relative flex items-end"},{default:n(()=>[o(x,{position:"floating"},{default:n(()=>[c("Parol")]),_:1}),o(r,{icon:s(Q),slot:"start"},null,8,["icon"]),o(b,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=f=>_.value=f),type:p.value?"text":"password"},null,8,["modelValue","type"]),o(r,{icon:p.value?s(X):s(Z),onClick:O,slot:"end"},null,8,["icon"])]),_:1}),o(y,{onClick:z,class:"ion-margin-top",expand:"block"},{default:n(()=>[c("Kirish "),o(r,{icon:s($),slot:"end"},null,8,["icon"])]),_:1}),o(y,{onClick:I,color:"secondary",expand:"block"},{default:n(()=>[c("Google orqali kirish "),o(r,{icon:s(oo),slot:"start"},null,8,["icon"])]),_:1}),l("p",co,[c("Hisob yaratmaganmisiz? "),l("span",ro,[o(B,{to:"/register"},{default:n(()=>[c("Ro'yxatdan o'tish")]),_:1})])])]),_:1})]),_:1})]),_:1}),o(T,{"is-open":d.value,message:m.value,duration:2e3},null,8,["is-open","message"])]),_:1})]),_:1})]))}}};export{mo as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/web-xVyO8Dnp.js","assets/index-oqNiFkU8.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
